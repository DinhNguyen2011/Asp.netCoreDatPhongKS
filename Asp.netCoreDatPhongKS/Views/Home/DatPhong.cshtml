@model Asp.netCoreDatPhongKS.Models.ViewModels.ThongtindatPhongViewModel

@{
    ViewData["Title"] = "Đặt phòng";
    var phong = Model.Phong;
    decimal tongGia = (phong?.GiaPhong1Dem ?? 0) * Model.SoDem;
}


    <link rel="stylesheet" href="~/css/datphong.css" />

<div class="datphong-container mt-4">
    <h3 class="datphongz-title">Thông tin đặt phòng</h3>

    <div class="datphong-card card mb-3">
        <div class="datphong-card-body card-body">
            <h4 class="datphong-title">Phòng @phong?.SoPhong - @phong?.LoaiPhong?.TenLoai</h4>
            <p>Ngày nhận: @Model.Checkin.ToString("dd/MM/yyyy")</p>
            <p>Ngày trả: @Model.Checkout.ToString("dd/MM/yyyy")</p>
            <p>Số đêm: @Model.SoDem</p>
            <p>Giá mỗi đêm: @String.Format("{0:N0}", phong?.GiaPhong1Dem) VNĐ</p>
            <p><strong class="text-success">Tổng tiền: @String.Format("{0:N0}", tongGia) VNĐ</strong></p>
        </div>
    </div>

    <form asp-action="DatPhong" method="post" onsubmit="return confirm('Bạn sẽ được chuyển đến cổng thanh toán VNPay. Xác nhận đặt phòng?');">
        <input type="hidden" asp-for="PhongId" />
        <input type="hidden" asp-for="Checkin" />
        <input type="hidden" asp-for="Checkout" />

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="HoTen" class="form-label datphong-form__label">Họ tên</label>
                <input asp-for="HoTen" class="form-control datphong-form__input" required />
                <span asp-validation-for="HoTen" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="Email" class="form-label datphong-form__label">Email</label>
                <input asp-for="Email" class="form-control datphong-form__input" required />
                <span asp-validation-for="Email" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="SoDienThoai" class="form-label datphong-form__label">SĐT</label>
                <input asp-for="SoDienThoai" class="form-control datphong-form__input" required />
                <span asp-validation-for="SoDienThoai" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="DiaChi" class="form-label datphong-form__label">Địa chỉ</label>
                <input asp-for="DiaChi" class="form-control datphong-form__input" required />
                <span asp-validation-for="DiaChi" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
            <label asp-for="Cccd" class="form-label datphong-form__label">CCCD</label>
            <input asp-for="Cccd" class="form-control datphong-form__input" required />
            <span asp-validation-for="Cccd" class="text-danger"></span>
        </div>
            <div class="col-md-6">
            <label asp-for="GhiChu" class="form-label datphong-form__label">Ghi Chú</label>
            <input asp-for="GhiChu" class="form-control datphong-form__input"  />
            <span asp-validation-for="GhiChu" class="text-danger"></span>
        </div>
        </div>
        <div class="row mb-3">
            <div class="col-md-6">
            <label>Chọn phương thức thanh toán</label>
            <select name="paymentMethod" class="form-control">
                <option value="VNPay">VNPay</option>               
            </select>
        </div>
            <div class="col-md-6">
        </div>
        </div>
        <button type="submit" class="datphong-button-submit">Đặt phòng và Thanh toán</button>
     
        <a href="@Url.Action("Index")" class="datphong-button-cancel">❌ Hủy</a>
    </form>
</div>

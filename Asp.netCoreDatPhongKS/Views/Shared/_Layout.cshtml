<!DOCTYPE html>
<html>
<head>
    <title>Hotel Thiềm Định</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap -->
    <link rel="stylesheet" type="text/css" href="~/css/bootstrap.min.css">

    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- Vendor css -->
    <link rel="stylesheet" type="text/css" href="~/css/vendor.css">

    <!-- Swiper & AOS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <!-- Tailwind CSS for modal -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

    <!-- Style -->
    <link rel="stylesheet" type="text/css" href="~/css/style.css">
    <link rel="stylesheet" type="text/css" href="~/css/dn-dk.css">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Upright:wght@300;400;500;600;700&family=Sora:wght@100..800&display=swap" rel="stylesheet">
    <style>
        .bg-secondary {
            background-color: #fff3cdb5 !important;
        }

        body {
            font-family: 'Roboto', Arial, sans-serif !important;
        }
    </style>
</head>
<body>
    <header id="header">
        <nav id="primary-header" class="navbar navbar-expand-lg py-4">
            <div class="container-fluid padding-side">
                <div class="d-flex justify-content-between align-items-center w-100" style="font-size: 14px !important;">
                    <a class="navbar-brand" href="@Url.Action("Index", "Home")">
                        <img src="~/images/hoteo.png" class="logo img-fluid" style="width: 200px;height: 60px; border-radius:10px;">
                    </a>
                    <button class="navbar-toggler border-0 d-flex d-lg-none order-3 p-2 shadow-none" type="button"
                            data-bs-toggle="offcanvas" data-bs-target="#bdNavbar" aria-controls="bdNavbar" aria-expanded="false">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="header-bottom offcanvas offcanvas-end " id="bdNavbar" aria-labelledby="bdNavbarOffcanvasLabel">
                        <div class="offcanvas-header px-4 pb-0">
                            <button type="button" class="btn-close btn-close-black mt-2" data-bs-dismiss="offcanvas"
                                    aria-label="Close" data-bs-target="#bdNavbar"></button>
                        </div>
                        <div class="offcanvas-body align-items-center justify-content-center" style="padding-left: 0rem !important;">
                            <div class="search d-block d-lg-none m-5">
                                <form class=" position-relative">
                                    <input type="text" class="form-control bg-secondary border-0 rounded-5 px-4 py-2"
                                           placeholder="Tìm kiếm...">
                                    <a href="#" class="position-absolute top-50 end-0 translate-middle-y p-1 me-3">
                                        <iconify-icon icon="mdi:magnify" width="20" height="20"></iconify-icon>
                                    </a>
                                </form>
                            </div>
                            <ul class="navbar-nav align-items-center mb-2 mb-lg-0">
                                <li class="nav-item px-2">
                                    <a class="nav-link  @(ViewData["Title"] as string == "Trang chủ" ? "active" : "")" asp-controller="Home" asp-action="Index">Trang chủ</a>
                                </li>
                                <li class="nav-item px-2">
                                    <a class="nav-link @(ViewData["Title"] as string == "Giới thiệu" ? "active" : "")" asp-controller="GioiThieu" asp-action="Index">Giới thiệu</a>
                                </li>
                                <li class="nav-item px-2">
                                    <a class="nav-link @(ViewData["Title"] as string == "Dịch vụ" ? "active" : "")" asp-controller="DichVu" asp-action="TrangChuDichVu">Dịch vụ</a>
                                </li>
                                <li class="nav-item px-2">
                                    <a class="nav-link @(ViewData["Title"] as string == "Hội thảo & Sự kiện" ? "active" : "")" asp-controller="HoiThaoSuKien" asp-action="Index">Hội thảo & Sự kiện</a>
                                </li>
                                <li class="nav-item px-2">
                                    <a class="nav-link @(ViewData["Title"] as string == "Liên hệ" ? "active" : "")" asp-controller="LienHe" asp-action="KhachHangLienHe">Liên hệ</a>
                                </li>
                                @if (ViewData["Hoten"] != null)
                                {
                                    var hoten = ViewData["Hoten"]?.ToString();
                                    var displayName = hoten.Length > 5 ? hoten.Substring(0, 5) + "..." : hoten;
                                    <li class="nav-item dropdown">
                                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" title="@hoten">
                                            Hi, @displayName
                                        </a>
                                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                                            <li><a class="dropdown-item" asp-controller="TaiKhoan" asp-action="Profile">Thông tin cá nhân</a></li>
                                            <li><a class="dropdown-item" asp-controller="XuLyTaiKhoanKH" asp-action="Index">Phiếu đặt phòng</a></li>
                                            <li><a class="dropdown-item" asp-controller="XuLyTaiKhoanKH" asp-action="XemDichVu">Dịch vụ</a></li>
                                            <li><a class="dropdown-item" asp-controller="XuLyTaiKhoanKH" asp-action="XemHoaDon">Hóa đơn</a></li>
                                            <li><a class="dropdown-item" asp-controller="TaiKhoan" asp-action="ChangePassword">Thay đổi mật khẩu</a></li>
                                            <li><hr class="dropdown-divider"></li>
                                            <li><a class="dropdown-item text-danger" asp-controller="TaiKhoan" asp-action="Logout">Đăng xuất</a></li>
                                        </ul>
                                    </li>
                                }
                                else
                                {
                                    <li class="nav-item">
                                        <a class="nav-link" href="javascript:void(0);" onclick="openLoginModal()">Đăng nhập/Đăng ký</a>
                                    </li>
                                }
                            </ul>
                        </div>
                    </div>
                    <!-- Modal Đăng nhập/Đăng ký -->
                    <div id="loginRegisterModal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
                        <div class="bg-white rounded-lg p-6 max-w-md w-full">
                            <div class="flex justify-between items-center mb-4">
                                <h5 class="text-2xl font-bold w-full text-center" id="modalTitle">ĐĂNG NHẬP</h5>
                                <button type="button" class="text-gray-500 hover:text-gray-700" onclick="closeModal()">×</button>
                            </div>
                            <div>
                                <!-- Form Đăng nhập -->
                                <div id="loginForm">
                                    <div id="loginErrorMessage" class="bg-red-100 text-red-700 text-center p-2 mb-3 rounded" style="display:none;"></div>
                                    @if (TempData["RegisterSuccess"] != null)
                                    {
                                        <div class="bg-green-100 text-green-700 text-center p-2 mb-3 rounded">@TempData["RegisterSuccess"]</div>
                                    }
                                    @if (ViewBag.LoginCheck != null)
                                    {
                                        <div class="bg-red-100 text-red-700 text-center p-2 mb-3 rounded">@Html.Raw(ViewBag.LoginCheck)</div>
                                    }
                                    <form action="/TaiKhoan/Login" method="post">
                                        <div class="mb-3">
                                            <input name="Email" class="w-full border rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-pink-400" placeholder="Email" tabindex="0" />
                                        </div>
                                        <div class="mb-3">
                                            <input name="MatKhau" type="password" class="w-full border rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-pink-400" placeholder="Nhập mật khẩu" tabindex="0" />
                                        </div>
                                        <div class="text-center mb-3">
                                            <button type="submit" class="bg-pink-400 text-white rounded-full px-5 py-2 w-full hover:bg-pink-500" style="font-size: 17px;" tabindex="0">ĐĂNG NHẬP</button>
                                        </div>
                                        <div class="text-center text-sm" tabindex="-1">
                                            <span>Bạn chưa có tài khoản?</span>
                                            <a href="javascript:void(0);" class="font-bold text-pink-400 hover:underline" onclick="showRegisterForm()" tabindex="0">Đăng ký ngay</a>
                                        </div>
                                        <div class="text-center mt-2 text-sm">
                                            <a href="/TaiKhoan/ForgotPassword" class="text-red-500 hover:underline" tabindex="0">Quên mật khẩu?</a>
                                        </div>
                                    </form>
                                </div>
                                <!-- Form Đăng ký -->
                                <div id="registerForm" style="display: none;">
                                    <form action="/TaiKhoan/Register" method="post">
                                        @if (TempData["RegisterError"] != null)
                                        {
                                            <div class="bg-red-100 text-red-700 text-center p-2 mb-3 rounded">@TempData["RegisterError"]</div>
                                        }
                                        <div class="mb-3">
                                            <input name="Email" class="w-full border rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-pink-400" placeholder="Email" tabindex="0" />
                                        </div>
                                        <div class="mb-3">
                                            <input name="MatKhau" type="password" class="w-full border rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-pink-400" placeholder="Mật khẩu" tabindex="0" />
                                        </div>
                                        <div class="mb-3">
                                            <input name="Hoten" class="w-full border rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-pink-400" placeholder="Họ tên" tabindex="0" />
                                        </div>
                                        <div class="mb-3">
                                            <input name="HinhAnh" class="w-full border rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-pink-400" placeholder="Link ảnh đại diện (không bắt buộc)" tabindex="0" />
                                        </div>
                                        <div class="text-center mb-3">
                                            <button type="submit" class="bg-pink-400 text-white rounded-full px-5 py-2 w-full hover:bg-pink-500" style="font-size: 17px;" tabindex="0">ĐĂNG KÝ</button>
                                        </div>
                                        <div class="text-center text-sm" tabindex="-1">
                                            <span>Đã có tài khoản?</span>
                                            <a href="javascript:void(0);" class="font-bold text-pink-400 hover:underline" onclick="showLoginForm()" tabindex="0">Đăng nhập</a>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="search d-lg-block d-none">
                        <form class="position-relative">
                            <input type="text" class="form-control bg-secondary border-0 rounded-5 px-4 py-2" placeholder="Tìm kiếm...">
                            <a href="#" class="position-absolute top-50 end-0 translate-middle-y p-1 me-3">
                                <iconify-icon icon="mdi:magnify" width="20" height="20"></iconify-icon>
                            </a>
                        </form>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <div class="container" style="max-width: 1280px !important;">
        @RenderBody()
    </div>

    <section id="footer">
        <div class="container-fluid padding-side padding-small pt-0" data-aos="fade-up">
            <footer class="row">
                <div class="col-md-6 col-lg-3 mb-4 mb-lg-0">
                    <img src="~/images/hoteo.png" alt="logo-footer" class="img-fluid" style="width: 200px;height:60px; border-radius:10px;">
                    <p class="mt-3">
                        Chào mừng đến với Hotel Thiềm Định, nơi sự thoải mái gặp gỡ sự yên bình. Nằm trong lòng thành phố nhộn nhịp,
                        khách sạn của chúng tôi cung cấp một nơi trú ẩn bình yên cho cả khách du lịch và doanh nhân.
                    </p>
                    <ul class="social-links d-flex flex-wrap list-unstyled mt-4 mb-0">
                        <li>
                            <a href="#">
                                <svg class="social me-4" width="20" height="20">
                                    <use xlink:href="#facebook"></use>
                                </svg>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <svg class="social me-4" width="20" height="20">
                                    <use xlink:href="#twitter"></use>
                                </svg>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <svg class="social me-4" width="20" height="20">
                                    <use xlink:href="#linkedin"></use>
                                </svg>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <svg class="social me-4" width="20" height="20">
                                    <use xlink:href="#instagram"></use>
                                </svg>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <svg class="social me-4" width="20" height="20">
                                    <use xlink:href="#youtube"></use>
                                </svg>
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="col-md-6 col-lg-3 offset-lg-1 mb-4 mb-lg-0">
                    <h4 class="display-6 fw-normal">Đăng ký nhận bản tin</h4>
                    <p>Đăng ký nhận bản tin để nhận thông tin mới nhất.</p>
                    <form class=" position-relative">
                        <input type="text" class="form-control px-4 py-3 bg-transparent mb-3" placeholder="Tên của bạn">
                        <input type="email" class="form-control px-4 py-3 bg-transparent" placeholder="Email của bạn">
                        <div class="d-grid">
                            <button href="#" class="btn btn-arrow btn-primary mt-3">
                                <span>
                                    Đăng ký ngay
                                    <svg width="18" height="18">
                                        <use xlink:href="#arrow-right"></use>
                                    </svg>
                                </span>
                            </button>
                        </div>
                    </form>
                </div>
                <div class="col-md-6 col-lg-3 offset-lg-1 mb-4 mb-lg-0">
                    <h4 class="display-6 fw-normal">Thông tin của chúng tôi</h4>
                    <ul class="nav flex-column">
                        <li class="location text-capitalize d-flex align-items-center">
                            <svg class="color me-1" width="20" height="20">
                                <use xlink:href="#location"></use>
                            </svg>Khách sạn Thiềm Định & Resort
                        </li>
                        <li class="text-capitalize ms-4">
                            280 Cao Lỗ, Quận 8
                        </li>
                        <li class="text-capitalize ms-4">
                            Thành Phố Hồ Chí Minh
                        </li>
                        <li class="text-capitalize ms-4">
                            Việt Nam
                        </li>
                        <li class="phone text-capitalize d-flex align-items-center mt-2">
                            <svg class="color me-1" width="20" height="20">
                                <use xlink:href="#phone"></use>
                            </svg>085 346 1030
                        </li>
                        <li class="email text-capitalize d-flex align-items-center mt-2">
                            <svg class="color me-1" width="20" height="20">
                                <use xlink:href="#email"></use>
                            </svg>dinhn6666@gmail.com
                        </li>
                    </ul>
                </div>
            </footer>
        </div>
        <hr class="text-black">
        <div class="container-fluid padding-side padding-small" data-aos="fade-up">
            <footer class="row">
                <div class="col-md-6 col-lg-3 mb-4 mb-lg-0">
                    <h4 class="display-6 fw-normal">Liên kết nhanh</h4>
                    <ul class="nav flex-column">
                        <li class="nav-item"><a href="@Url.Action("Index", "Home")" class="p-0 "> Trang chủ </a></li>
                        <li class="nav-item"><a href="@Url.Action("Index", "GioiThieu")" class="p-0 "> Giới thiệu </a></li>
                        <li class="nav-item"><a href="@Url.Action("Index", "TrangChuDichVu")" class="p-0 "> Dịch vụ của chúng tôi </a></li>
                        <li class="nav-item"><a href="#" class="p-0 "> Chính sách bảo mật</a></li>
                        <li class="nav-item"><a href="@Url.Action("Index", "KhachHangLienHe")" class="p-0 "> Liên hệ chúng tôi </a></li>
                        <li class="nav-item"><a href="#" class="p-0 "> Hỗ trợ </a></li>
                    </ul>
                </div>
                <div class="col-md-6 col-lg-3 offset-lg-1 mb-4 mb-lg-0">
                    <h4 class="display-6 fw-normal">Dịch vụ</h4>
                    <ul class="nav flex-column">
                        <li class="nav-item"><a href="#" class="p-0 "> Spa </a></li>
                        <li class="nav-item"><a href="#" class="p-0 "> Hồ bơi </a></li>
                        <li class="nav-item"><a href="#" class="p-0 "> Yoga </a></li>
                        <li class="nav-item"><a href="#" class="p-0 "> Phòng tập thể dục</a></li>
                        <li class="nav-item"><a href="#" class="p-0 "> Tin tức </a></li>
                        <li class="nav-item"><a href="#" class="p-0 "> Điều khoản và điều kiện </a></li>
                    </ul>
                </div>
                <div class="col-md-6 col-lg-3 offset-lg-1 mb-4 mb-lg-0">
                    <p class="mt-2">Cảm ơn bạn đã ghé thăm website của chúng tôi!</p>
                    <a href="#" class="d-block mt-2">Chính sách quyền riêng tư</a>
                    <p class="m-0">© NguyenAiThiemDinh DH52110805</p>
                </div>
            </footer>
        </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="~/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="~/js/plugins.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script type="text/javascript" src="~/js/script.js"></script>
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>

    <script>
        function showRegisterForm() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('registerForm').style.display = 'block';
            document.getElementById('modalTitle').innerText = 'ĐĂNG KÝ';
        }

        function showLoginForm() {
            document.getElementById('registerForm').style.display = 'none';
            document.getElementById('loginForm').style.display = 'block';
            document.getElementById('modalTitle').innerText = 'ĐĂNG NHẬP';
        }

        function openLoginModal() {
            document.getElementById('loginRegisterModal').classList.remove('hidden');
            showLoginForm();
        }

        function closeModal() {
            document.getElementById('loginRegisterModal').classList.add('hidden');
        }

        window.onload = function () {
            const loginError = "@Html.Raw(TempData["LoginError"])";
            const registerOpen = "@TempData["OpenRegisterForm"]";
            const loginOpen = "@TempData["OpenLoginForm"]";

            if (loginError) {
                openLoginModal();
                const errMsg = document.getElementById("loginErrorMessage");
                errMsg.innerText = loginError;
                errMsg.style.display = "block";
            } else if (registerOpen === "True") {
                openLoginModal();
                showRegisterForm();
            } else if (loginOpen === "True") {
                openLoginModal();
                showLoginForm();
            }
        };

        // Đóng modal khi nhấp ra ngoài
        document.getElementById('loginRegisterModal').addEventListener('click', (e) => {
            if (e.target === document.getElementById('loginRegisterModal')) {
                closeModal();
            }
        });
    </script>
</body>
</html>